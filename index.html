<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Phishing Remedial Awareness</title>
  <!-- Base styles -->
  <!-- Cache bust the stylesheet so that updated colours/themes are always fetched. -->
  <link rel="stylesheet" href="style.css?v=2" />
  <!-- Import Montserrat fonts for a modern professional look -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <!-- Import Poppins fonts for a fresh modern look -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet" />
  <!-- External libraries for animation and slider -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <!-- GSAP for advanced timeline‑based animations -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-yHn6pxzC9P3jqSbMnX/KSDMe6M9YHXPbfZNhNEZ3H/0cx43gXUdkIdFXLGVyx6M+7GR6og55fU+bM3Bxu3sM2Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div id="preloader">
      <div class="loader">
        <div class="progress-fill"></div>
      </div>
    </div>
    <div id="tsparticles"></div>
  <div id="app" class="app-container">
    <!-- Scene 1: Narrative intro with dramatic animation -->
    <div class="scene" id="scene1">
      <!-- Dynamic abstract background -->
      <div class="intro-bg"></div>

      <!-- Spinning Kitopi logo for cinematic intro -->
      <!-- The logo starts small and spins before fading out to reveal the story.  -->
      <img id="introLogo" class="intro-logo" src="Images/WhiteK-02.svg" alt="Kitopi logo" />
      <!-- Narrative lines hidden for voice‑over. We keep the container for potential accessibility but hide it via CSS. -->
      <div class="narration" aria-hidden="true">
        <p class="story-line" id="line1"></p>
        <p class="story-line" id="line2"></p>
        <p class="story-line" id="line3"></p>
        <p class="story-line" id="line4"></p>
        <p class="story-line" id="line5"></p>
        <p class="story-line" id="line6"></p>
      </div>
      <!-- Email preview that slides into view -->
      <div class="email-popup" id="emailPopup">
        <div class="email-header">
          <span class="email-from">From: HR Department &lt;hr@kitopi.cc&gt;</span>
          <span class="email-subject">Your role is affected – urgent update</span>
        </div>
        <div class="email-body">Dear Team,
          <br/>We have critical updates regarding your role.
        </div>
      </div>
      <!-- Animated pointer to simulate user click -->
      <div class="fake-cursor" id="fakeCursor"></div>
      <!-- Red flash when clicking the email -->
      <div class="flash-overlay" id="flashOverlay"></div>
      <!-- Domain mismatch warning that appears after click -->
      <div class="domain-warning" id="domainWarning">
        <h4>Sender domain mismatch!</h4>
        <p>Expected: <span class="expected">hr@kitopi.com</span></p>
        <p>Actual: <span class="actual">hr@kitopi.cc</span></p>
        <p class="domain-tip">Always double‑check the sender’s domain.</p>
      </div>
      <!-- Call-to-action instructing the viewer to click the email -->
      <div class="cta-popup" id="ctaPopup">Open the email by clicking here</div>
      <!-- Welcome overlay displayed after the logo spin; can be dismissed by clicking -->
      <div class="welcome-overlay" id="welcomeOverlay">
        <h1>Welcome to Phishing Remedial Awareness</h1>
        <p class="skip-text">Tap anywhere to continue</p>
      </div>
      <!-- Scene navigation -->
      <div class="nav-buttons">
        <button class="next-scene-btn" data-target="2"><span class="nav-icon">❯</span></button>
      </div>
    </div>

    <!-- Scene 2: Outlook‑style inbox with phishing examples -->
    <div class="scene" id="scene2">
      <div class="outlook-wrapper">
        <div class="outlook-header">
          <h2>Inbox</h2>
          <div class="search-bar">
            <input type="text" placeholder="Search mail" disabled />
            <i class="fas fa-search"></i>
          </div>
        </div>
        <div class="outlook-body">
          <!-- Email list column -->
          <div class="outlook-list">
            <!-- Single suspicious email for training -->
            <div class="outlook-email" data-sender="IT Security &lt;security@kitopi.com&gt;" data-subject="Important: Update your password" data-preview="A critical update requires you to reset your password." data-time="Mon 10:15 AM" data-domain-ok="false">
              <div class="email-meta">
                <span class="sender">IT Security</span>
                <span class="time">Mon 10:15 AM</span>
              </div>
              <div class="email-subject">Important: Update your password</div>
              <div class="email-snippet">A critical update requires you to reset your password.</div>
              <div class="email-icons">
                <span class="dot flagged"></span>
              </div>
            </div>
          </div>
          <!-- Message details column -->
          <div class="outlook-message" id="outlook-message">
            <!-- External sender bar; hidden by default -->
            <div class="external-bar" id="external-bar">
              <i class="fas fa-exclamation-triangle"></i>
              <span>This sender is from outside your organization.</span>
            </div>
            <div class="message-header" id="message-header">
              <!-- Populated by JS -->
              <h3 id="message-subject">Select an email to read</h3>
              <p id="message-from"></p>
              <p id="message-to"></p>
              <p id="message-date"></p>
              <!-- Action bar positioned below the header for quick actions -->
              <div class="message-actions" id="message-actions">
                <!-- Use simple unicode symbols instead of Font Awesome to ensure consistent rendering -->
                <button title="Reply"><span class="action-icon">↩</span></button>
                <button title="Reply all"><span class="action-icon">⤺</span></button>
                <button title="Forward"><span class="action-icon">↪</span></button>
                <!-- Outlook‑style report dropdown. We include an image icon and a chevron to
                     mirror the official Outlook button. When clicked, a context menu
                     appears with multiple reporting options. -->
                <div class="report-dropdown">
                  <button class="report-btn" title="Report Message" aria-expanded="false">
                    <img src="https://ipagave.azurewebsites.net/Images/ReportMessage64.png" alt="Report" class="report-icon" />
                    <i class="fas fa-chevron-down report-chevron"></i>
                  </button>
                  <ul class="report-menu">
                    <li data-action="junk">
                      <img src="https://aka.ms/ipagave/images/Junk16.png" alt="Junk" />
                      <span>Junk</span>
                    </li>
                    <li data-action="phishing">
                      <img src="https://aka.ms/ipagave/images/Phishing16.png" alt="Phishing" />
                      <span>Phishing</span>
                    </li>
                    <li data-action="notjunk">
                      <img src="https://aka.ms/ipagave/images/NotJunk16.png" alt="Not Junk" />
                      <span>Not Junk</span>
                    </li>
                    <li data-action="options">
                      <img src="https://aka.ms/ipagave/images/Options16.png" alt="Options" />
                      <span>Options...</span>
                    </li>
                    <li data-action="help">
                      <img src="https://aka.ms/ipagave/images/Help16.png" alt="Help" />
                      <span>Help</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="message-body" id="message-body">
              <!-- Body content inserted here -->
            </div>
            <div class="attachments" id="attachments">
              <!-- Attachment items inserted here -->
            </div>
          </div>
        </div>
      </div>
      <!-- Instruction callouts for scene 2 (hidden by default) -->
      <div class="cta-popup" id="emailCta2">Open this email</div>
      <div class="cta-popup" id="reportCta">Report as phishing using the flag icon</div>
      <!-- Feedback overlays for success and danger outcomes -->
      <div class="feedback-overlay success" id="successOverlay">
        <div class="feedback-content">
          <h2>Great job!</h2>
          <p>You reported the phishing email.</p>
        </div>
      </div>
      <div class="feedback-overlay danger" id="dangerOverlay">
        <div class="feedback-content">
          <h2>Oh no!</h2>
          <p>Your credentials have been compromised.</p>
        </div>
      </div>

      <!-- Decision overlay: prompts the viewer to decide what action to take.
           This overlay appears after the message details are revealed. Two
           options are presented without explicitly labelling one as correct
           to encourage the learner to think critically. -->
      <div class="decision-overlay" id="decisionOverlay">
        <div class="decision-card">
          <h3 class="decision-question">What would you do next?</h3>
          <div class="decision-options">
            <div class="decision-option" id="decision-open">
              <!-- Neutral phrasing hints at following the email instructions without
                   explicitly encouraging the behaviour. -->
              <i class="fas fa-link"></i>
              <p>Use the link to reset password</p>
            </div>
            <div class="decision-option" id="decision-report">
              <!-- Present the alternative action of reporting the email.  This phrasing
                   remains neutral and does not overtly hint that it is the safer choice. -->
              <i class="fas fa-flag"></i>
              <p>Report this email as phishing</p>
            </div>
          </div>
        </div>
      </div>
      <div class="nav-buttons">
        <button class="prev-scene-btn" data-target="1"><span class="nav-icon">❮</span></button>
        <button class="next-scene-btn" data-target="3"><span class="nav-icon">❯</span></button>
      </div>
    </div>

    <!-- Scene 3: Social Engineering Techniques (automatic sequence) -->
    <div class="scene" id="scene3">
      <h2 class="scene-title">Social engineering techniques</h2>
      <!-- Custom container to cycle through examples automatically -->
      <div class="se-container">
        <div class="se-slide" id="se-slide">
          <div class="se-icon"></div>
          <h3 class="se-title"></h3>
          <p class="se-text"></p>
        </div>
        <!-- Indicators show which example is active -->
        <div class="se-indicators" id="se-indicators"></div>
      </div>
      <!-- Navigation between scenes -->
      <div class="nav-buttons">
        <button class="prev-scene-btn" data-target="2"><span class="nav-icon">❮</span></button>
        <button class="next-scene-btn" data-target="4"><span class="nav-icon">❯</span></button>
      </div>
    </div>

    <!-- Scene 4: Red Flags -->
    <div class="scene" id="scene4">
      <h2 class="scene-title">Red flags in an email</h2>
      <!-- Redesigned flags card: uses a vertical timeline with coloured bullets instead of a scanning bar -->
      <div class="flags-card">
        <ul class="flag-list">
          <li class="flag-item flagged"><span class="flag-bullet"></span><span class="flag-text">Urgency</span></li>
          <li class="flag-item"><span class="flag-bullet"></span><span class="flag-text">Suspicious senders</span></li>
          <li class="flag-item flagged"><span class="flag-bullet"></span><span class="flag-text">Unexpected links or attachments</span></li>
          <li class="flag-item"><span class="flag-bullet"></span><span class="flag-text">Requests for login, passwords, or money</span></li>
          <li class="flag-item flagged"><span class="flag-bullet"></span><span class="flag-text">Spelling errors or strange formatting</span></li>
        </ul>
      </div>
      <div class="nav-buttons">
        <button class="prev-scene-btn" data-target="3"><span class="nav-icon">❮</span></button>
        <button class="next-scene-btn" data-target="5"><span class="nav-icon">❯</span></button>
      </div>
    </div>

    <!-- Scene 5: What to Do When It Feels Off -->
    <div class="scene" id="scene5">
      <h2 class="scene-title">Steps to take when you’re unsure</h2>
      <div class="mouse-area">
        <!-- Custom cursor -->
        <div class="custom-cursor"></div>
        <p class="step-instruction">Hover over the suspicious link to see what you should do.</p>
        <a href="#" class="suspicious-link">Reset your password here</a>
        <div class="tooltip-box" id="action-tooltip">
          <h4 class="tooltip-heading">Here’s what you should do</h4>
          <ul>
            <li>Verify with your team on Teams/Slack.</li>
            <li>Report using the phishing form.</li>
            <li>Delete the suspicious email immediately.</li>
            <li>Forward it to infosec@kitopi.com.</li>
          </ul>
        <!-- Understood button to dismiss the tooltip and reveal next steps -->
        <div class="tooltip-actions" style="margin-top: 16px; text-align:center;">
          <button id="understoodBtn" class="understood-btn">Understood</button>
        </div>
        </div>
        <!-- Action cards placed inside the interactive area so they remain visible -->
        <div class="action-cards">
          <div class="action-card">
            <i class="fas fa-comments"></i>
            <span class="card-text">Consult via Teams</span>
          </div>
          <div class="action-card">
            <i class="fas fa-shield-alt"></i>
            <span class="card-text">Report Phishing</span>
          </div>
          <div class="action-card">
            <i class="fas fa-trash"></i>
            <span class="card-text">Delete Email</span>
          </div>
          <div class="action-card">
            <i class="fas fa-envelope"></i>
            <span class="card-text">Email InfoSec</span>
          </div>
        </div>
      </div>
      <div class="nav-buttons">
        <button class="prev-scene-btn" data-target="4"><span class="nav-icon">❮</span></button>
        <button class="next-scene-btn" data-target="6"><span class="nav-icon">❯</span></button>
      </div>
    </div>

    <!-- Scene 6: BEC Scenario -->
    <div class="scene" id="scene6">
      <h2 class="scene-title">Business Email Compromise (BEC)</h2>
      <div class="bec-container">
        <div class="bec-card" id="bec-card">
          <div class="card-face card-front">
            <p><strong>From:</strong> yourmanager@kitopi.com</p>
            <p><strong>Subject:</strong> Action Required: Update vendor details</p>
            <p>Please update the bank details for our supplier immediately.</p>
            <button class="flip-btn">View Headers</button>
          </div>
          <div class="card-face card-back">
            <p><strong>Return‑Path:</strong> spoof@fraud.biz<br /><span class="explain">The actual sender address hidden behind the display name. This reveals a different domain.</span></p>
            <p><strong>SPF/DKIM:</strong> Failed<br /><span class="explain">Email authentication checks failed, indicating the message is likely forged.</span></p>
            <p><strong>Domain:</strong> fraud.biz (mismatch)<br /><span class="explain">This domain doesn’t match the legitimate kitopi.com domain.</span></p>
            <p class="warning-msg"><i class="fas fa-exclamation-triangle"></i> Domain mismatch detected!</p>
            <button class="flip-btn">Back to email</button>
          </div>
        </div>
      </div>
      <div class="nav-buttons">
        <button class="prev-scene-btn" data-target="5"><span class="nav-icon">❮</span></button>
        <button class="next-scene-btn" data-target="7"><span class="nav-icon">❯</span></button>
      </div>
    </div>

    <!-- Scene 7: Social Engineering Examples -->
    <div class="scene" id="scene7">
      <h2 class="scene-title">Common social engineering attacks</h2>
      <p class="scene7-note">Click each box to learn more about the attack.</p>
      <div class="tiles">
        <div class="tile" data-info="A fraudulent email requesting wire transfer." data-type="Financial Scam">
          <span>Wire Fraud</span>
        </div>
        <div class="tile" data-info="A phone call pretending to be IT support asking for credentials." data-type="Credential Theft">
          <span>Fake IT Support</span>
        </div>
        <div class="tile" data-info="A link disguised as tracking information that installs malware." data-type="Malware Delivery">
          <span>Malware Link</span>
        </div>
        <div class="tile" data-info="Impersonating HR to collect personal data from employees." data-type="Data Harvesting">
          <span>HR Impersonation</span>
        </div>
      </div>
      <div class="tile-modal" id="tile-modal">
        <div class="modal-content">
          <span class="close-modal">&times;</span>
          <h3 id="modal-title"></h3>
          <p id="modal-desc"></p>
          <p id="modal-risk"></p>
        </div>
      </div>
      <div class="nav-buttons">
        <button class="prev-scene-btn" data-target="6"><span class="nav-icon">❮</span></button>
        <button class="next-scene-btn" data-target="8"><span class="nav-icon">❯</span></button>
      </div>
    </div>

    <!-- Scene 8: Final Tips – Think, Check, Report -->
    <div class="scene" id="scene8">
      <h2 class="scene-title">Final tips – Think, Check, Report</h2>
      <!-- Redesigned checklist: custom checkmarks and larger typography -->
      <ul class="checklist">
        <li class="tip-item">
          <div class="checkmark"></div>
          <span class="tip-text">Think before you click</span>
        </li>
        <li class="tip-item">
          <div class="checkmark"></div>
          <span class="tip-text">Check the sender’s domain</span>
        </li>
        <li class="tip-item">
          <div class="checkmark"></div>
          <span class="tip-text">Report suspicious activity</span>
        </li>
      </ul>
      <div class="nav-buttons">
        <button class="prev-scene-btn" data-target="7"><span class="nav-icon">❮</span></button>
        <button class="next-scene-btn" data-target="9"><span class="nav-icon">❯</span></button>
      </div>
    </div>

    <!-- Scene 9: Closing Scene -->
    <div class="scene" id="scene9">
      <div class="closing-container">
        <!-- Morph wrapper containing mask and shield -->
        <div class="morph-wrapper">
          <!-- Mask SVG -->
          <svg id="maskSvg" viewBox="0 0 431.49 408.57" class="morph-icon" xmlns="http://www.w3.org/2000/svg">
            <path fill="#832d35" d="M35.41 233.27l180.67 11.45 179.18-11.62c1.32 0 1.69.73 2.38 1.61 1.58 2.03 13.21 23.37 12.95 24.75l-30.34 32.64c-45.7 42.36-116.95 41.81-164.81 3.17-42.71 35.22-105.66 39-151.4 7.06-16.37-11.43-28.61-29.16-43.12-42.86l14.5-26.19Z" />
            <path fill="#832d35" d="M188.75 266.11l-114.01-9c-1.24 28.79 32.96 43.91 57.51 44.99 22.35.98 54.91-9.99 56.5-35.99Zm168-9l-114.01 9c1.55 26.14 34.09 36.78 56.5 35.99 24.59-.87 58.65-16.29 57.51-44.99Z" />
            <rect fill="#832d35" x="16.74" y="156.1" width="398" height="46" />
            <ellipse fill="#00000022" cx="215.74" cy="390.45" rx="215.74" ry="18.13" />
          </svg>
          <!-- Shield SVG -->
          <svg id="shieldSvg" viewBox="0 0 474.95 550.43" class="morph-icon" xmlns="http://www.w3.org/2000/svg">
            <path fill="#27a057" d="M472.4 71.54C342.57 53.65 237.47 0 237.47 0c0 0-105.1 53.65-234.92 71.54 0 0-44.16 355.7 234.92 478.9 279.08-123.2 234.92-478.9 234.92-478.9Z" />
            <path fill="#27a057" d="M446.54 93.95c-115.54-15.92-209.07-63.66-209.07-63.66 0 0-93.53 47.75-209.07 63.66 0 0-39.3 316.55 209.07 426.19 248.36-109.64 209.07-426.19 209.07-426.19Z" />
            <path fill="#1a7e44" d="M237.47 53.87s84.52 43.15 188.94 57.53c0 0 35.51 286.07-188.94 385.15V53.87Z" />
            <path fill="#27a057" d="M237.47 53.87s-84.52 43.15-188.94 57.53c0 0-35.51 286.07 188.94 385.15V53.87Z" />
          </svg>
        </div>
        <img src="Images/TealKitopi-01.svg" alt="Kitopi" class="closing-logo" />
        <div class="cta-buttons">
          <button class="cta-btn"><i class="fas fa-bug"></i> <span class="cta-text">Phishing Report</span></button>
          <button class="cta-btn"><i class="fas fa-envelope"></i> <span class="cta-text">infosec@kitopi.com</span></button>
          <button class="cta-btn"><i class="fas fa-comment-dots"></i> <span class="cta-text">AskPete</span></button>
        </div>
      </div>
    </div>
  </div>
  <!-- Append a version query to bust browser cache when the script updates -->
  <!-- Increment the cache‑busting version when script updates to ensure browsers load the latest changes -->
  <!-- Increment the cache‑busting version when script updates to ensure browsers load the latest changes -->
  <!-- Include version query to bust cache whenever script changes -->
  <!-- Increment the version parameter whenever script.js changes so the browser
       fetches the latest code rather than a cached copy. -->
  <!-- Custom cursor used for the automated inbox animation -->
  <div id="customCursor" class="custom-cursor"></div>
  <!-- Celebration overlay displayed briefly after reporting phishing -->
  <div id="celebrateOverlay" class="celebrate-overlay" style="display:none;">
    <img src="celebrate.gif" alt="Celebrate success" class="celebrate-gif" />
  </div>
  <!-- Full screen success overlay shown after celebration -->
  <div 
    <!-- Scene 10: Drag and drop micro challenge -->
    <!-- Scene 10: Mini Challenge -->
<div class="scene" id="scene10">
  <div class="challenge-container">
    <h2 class="challenge-title">Mini Challenge: Spot the Phish!</h2>
    <p class="challenge-instructions">Drag and drop the suspicious email into the trash bin.</p>
    <div class="cards">
      <div class="email-card" draggable="true" data-type="suspicious">
        <div class="email-sender">update@secure-portal.net</div>
        <div class="email-subject">Urgent: Verify your credentials now!</div>
        <div class="email-body">Your account is at risk. Click <span class="highlight">here</span> to secure it.</div>
      </div>
      <div class="email-card" draggable="true" data-type="legit">
        <div class="email-sender">hr@kitopi.com</div>
        <div class="email-subject">Company newsletter – July</div>
        <div class="email-body">Here’s what’s new at Kitopi this month…</div>
      </div>
    </div>
    <div class="trash-container">
      <p class="trash-label">Drop suspicious emails here</p>
      <div class="trash"></div>
    </div>
    <div class="challenge-feedback" id="challengeSuccess" style="display:none;">
      <i class="fas fa-check-circle"></i>
      <p>You caught the phish! Great job.</p>
    </div>
  </div>
</div>
                <div class="email-card suspicious" draggable="true" data-type="suspicious">
                    <h3>Urgent: Verify Your Account</h3>
                    <p>Your account will be closed if you don't verify.</p>
                </div>
            </div>
            <div class="trash">Trash Bin</div>
            <div id="scene10-success" class="scene10-success">Well done! You caught the phish!</div>
            <div class="nav-buttons">
                <button class="next-scene-btn" data-target="9"><span class="nav-icon"></span></button>
            </div>
        </div>
    </div>
id="successFullOverlay" class="success-full-overlay" style="display:none;">
    <div class="success-message">
      <h2>You are safe!</h2>
      <p>You successfully stopped a phishing attempt.</p>
    </div>
  </div>
  <!-- Increment the version parameter whenever script.js changes so the browser
       reloads the updated file without caching. -->
  
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.0/tsparticles.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/2.0.6/velocity.min.js"></script>
<script src="script.js?v=11"></script>
</body>
</html>
